{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport styles from \"../../../assets/jss/nextjs-material-kit/pages/landingPageSections/commentsStyles\";\nimport { TextField, List, ListItem, ListItemAvatar, Avatar, ListItemText, Typography } from '@material-ui/core';\nimport GridContainer from \"../../../components/Grid/GridContainer\";\nimport GridItem from \"../../../components/Grid/GridItem\";\nimport parse from 'html-react-parser';\nimport { executeQuery } from \"../../../plugins/graphqlQueryRequest\";\nimport { commentsQuery } from \"../../../utils/queries\";\nimport { AccountCircle } from '@material-ui/icons';\nimport { map, orderBy } from 'lodash';\nimport moment from 'moment';\nconst useStyles = makeStyles(styles);\n\nconst findComments = () => {\n  const {\n    data\n  } = executeQuery(commentsQuery);\n\n  if (data && data.comments) {\n    return orderBy(data.comments, ({\n      createdAt\n    }) => {\n      return moment(createdAt);\n    }, ['desc']);\n  }\n};\n\nexport default function CommentsSection() {\n  const classes = useStyles();\n  const {\n    0: comments,\n    1: setComments\n  } = useState(findComments());\n  return __jsx(\"div\", {\n    className: classes.section\n  }, __jsx(GridContainer, {\n    justify: \"center\"\n  }, __jsx(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 10\n  }, __jsx(TextField, {\n    id: \"outlined-multiline-static\",\n    label: \"Deja tu comentario\",\n    fullWidth: true,\n    multiline: true,\n    rows: 4,\n    variant: \"outlined\"\n  }))), __jsx(\"div\", null, __jsx(List, null, map(comments, ({\n    id,\n    content,\n    createdAt\n  }) => {\n    return __jsx(ListItem, {\n      key: id,\n      alignItems: \"flex-start\"\n    }, __jsx(ListItemAvatar, null, __jsx(Avatar, {\n      alt: \"Remy Sharp\"\n    }, \" \", __jsx(AccountCircle, null), \" \")), __jsx(ListItemText, {\n      primary: __jsx(React.Fragment, null, __jsx(Typography, {\n        component: \"span\",\n        variant: \"subtitle2\",\n        color: \"textSecondary\"\n      }, moment(createdAt).locale('es').fromNow())),\n      secondary: __jsx(React.Fragment, null, __jsx(Typography, {\n        component: \"span\",\n        variant: \"body1\",\n        className: classes.inline,\n        color: \"textPrimary\"\n      }, parse(content)))\n    }));\n  }))));\n}","map":null,"metadata":{},"sourceType":"module"}